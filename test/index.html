<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' />
  <meta name='renderer' content='webkit'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <title></title>
  <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
</head>

<body>
  <wx-open-launch-weapp id="launch-btn" username="gh_9c6119dc283b" path="pages/index/index">
    <script type="text/wxtag-template">
    <style>.btn { padding: 12px }</style>
    <button class="btn">打开小程序</button>
  </script>
  </wx-open-launch-weapp>

</body>
<script>
  var btn = document.getElementById('launch-btn');
  btn.addEventListener('launch', function (e) {
    console.log('success');
  });
  btn.addEventListener('error', function (e) {
    console.log('fail', e.detail);
  });
  var ua = navigator.userAgent.toLowerCase()
  var isWXWork = ua.match(/wxwork/i) == 'wxwork'
  var isWeixin = !isWXWork && ua.match(/micromessenger/i) == 'micromessenger'
  if (isWeixin) {
    wx.config({
      // debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印
      appId: 'wx1ec141a58704a024', // 必填，公众号的唯一标识
      timestamp: "{$time}", // 必填，生成签名的时间戳
      nonceStr: 'nonceStr', // 必填，填任意非空字符串即可
      signature: 'signature', // 必填，填任意非空字符串即可
      jsApiList: ['showOptionMenu', 'chooseImage', 'previewImage'], // 必填，随意一个接口即可
      openTagList: ['wx-open-launch-weapp'], // 填入打开小程序的开放标签名
    })
  }
  else {
    alert("请在微信中打开");
  }
</script>

</html>