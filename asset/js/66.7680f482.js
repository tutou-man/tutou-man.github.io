(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{538:function(e,t,r){"use strict";r.r(t);var a=r(58),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"sfc-工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sfc-工具"}},[e._v("#")]),e._v(" SFC 工具")]),e._v(" "),r("h2",{attrs:{id:"在线演练场"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#在线演练场"}},[e._v("#")]),e._v(" 在线演练场")]),e._v(" "),r("p",[e._v("你不需要在你的机器上安装任何东西来尝试 Vue 单文件。这里有很多在线演练场允许你在浏览器中运行：")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://sfc.vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue SFC Playground"),r("OutboundLink")],1),e._v(" (官方，基于最新的提交)")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://play.vueuse.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("VueUse Playground"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://codesandbox.io/s/vue-3",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue on CodeSandbox"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://replit.com/@templates/VueJS-with-Vite",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue on Repl.it"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://codepen.io/pen/editor/vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue on Codepen"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://stackblitz.com/fork/vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue on StackBlitz"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://components.studio/create/vue3",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue on Components.studio"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webcomponents.dev/create/cevue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue on WebComponents.dev"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("在报告问题时也建议通过这些在线演练场来提供复现。")]),e._v(" "),r("h2",{attrs:{id:"项目脚手架"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#项目脚手架"}},[e._v("#")]),e._v(" 项目脚手架")]),e._v(" "),r("h3",{attrs:{id:"vite"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vite"}},[e._v("#")]),e._v(" Vite")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://vitejs.dev/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vite"),r("OutboundLink")],1),e._v(" 是一个轻量级的快速构建工具，它对 Vue 单文件提供最优支持。它由尤雨溪创建，尤雨溪同时也是 Vue 本身的作者。如果要运行 Vite + Vue：")]),e._v(" "),r("div",{staticClass:"language-sh line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" init vite@latest\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[e._v("然后选择 Vue 模板并按照说明操作。")]),e._v(" "),r("ul",[r("li",[e._v("如果要了解更多 Vite 信息，请参阅 "),r("a",{attrs:{href:"https://vitejs.dev/guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vite 文档"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("li",[e._v("如果要在 Vite 项目中配置 Vue 的具体行为，比如向 Vue 的编译器传递选项，请查看 "),r("a",{attrs:{href:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("@vitejs/plugin-vue 文档"),r("OutboundLink")],1),e._v("。")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://sfc.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("单文件演练场"),r("OutboundLink")],1),e._v(" 也支持下载 Vite 项目的文件。")]),e._v(" "),r("h3",{attrs:{id:"vue-cli"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli"}},[e._v("#")]),e._v(" Vue CLI")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://cli.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue CLI"),r("OutboundLink")],1),e._v(" 是 Vue 官方基于 webpack 的构建工具。可以通过 Vue CLI 进行使用：")]),e._v(" "),r("div",{staticClass:"language-sh line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g @vue/cli\nvue create hello-vue\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])]),r("ul",[r("li",[e._v("如果要了解更多 Vue CLI，请查看 "),r("a",{attrs:{href:"https://cli.vuejs.org/guide/installation.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue CLI 文档"),r("OutboundLink")],1),e._v("。")])]),e._v(" "),r("h3",{attrs:{id:"vite-还是-vue-cli"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vite-还是-vue-cli"}},[e._v("#")]),e._v(" Vite 还是 Vue CLI？")]),e._v(" "),r("p",[e._v("鉴于 Vite 在开发中服务的启动和 HMR 更新的性能方面提供了更为卓越的开发体验，因此我们推荐你使用 Vite 来开始新的项目。("),r("a",{attrs:{href:"https://vitejs.dev/guide/why.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("详情"),r("OutboundLink")],1),e._v(")。如果你依赖某个特定的 webpack 功能（如 Module Federation）那么建议你使用 Vue CLI。")]),e._v(" "),r("p",[e._v("如果你是 "),r("a",{attrs:{href:"https://rollupjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rollup"),r("OutboundLink")],1),e._v(" 用户，你可以安全地使用 Vite，因为 Vite 使用了 Rollup 进行生产构建，支持并兼容 Rollup 插件系统。"),r("a",{attrs:{href:"https://twitter.com/lukastaegert/status/1412119729431584774",target:"_blank",rel:"noopener noreferrer"}},[e._v("甚至 Rollup 的维护者也推荐使用 Vite 来进行基于 Rollup 的 Web 开发"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h2",{attrs:{id:"ide-支持"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ide-支持"}},[e._v("#")]),e._v(" IDE 支持")]),e._v(" "),r("p",[e._v("推荐的 IDE 配置是 "),r("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("VSCode"),r("OutboundLink")],1),e._v(" + "),r("a",{attrs:{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener noreferrer"}},[e._v("Volar"),r("OutboundLink")],1),e._v(" 扩展。Volar 为模板表达式、组件 prop，甚至是插槽验证提供了语法高亮和智能提示。我们强烈推荐这种设置，特别是如果你也在使用 TypeScript。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.jetbrains.com/webstorm/",target:"_blank",rel:"noopener noreferrer"}},[e._v("WebStorm"),r("OutboundLink")],1),e._v(" 也对 Vue 单文件提供了不错的支持。请注意，到目前为止它对 "),r("code",[e._v("<script setup>")]),e._v(" 的支持仍然是"),r("a",{attrs:{href:"https://youtrack.jetbrains.com/issue/WEB-49000",target:"_blank",rel:"noopener noreferrer"}},[e._v("进行中"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("大多数其他编辑器都有社区创建的 Vue 语法高亮功能，但缺乏同样水平的代码智能提示。从长远来看，我们确实希望通过 "),r("a",{attrs:{href:"https://microsoft.github.io/language-server-protocol/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Language Service Protocol"),r("OutboundLink")],1),e._v(" 来扩大编辑器的支持范围，因为 Volar 的核心逻辑是用标准语言服务的方式实现的。")]),e._v(" "),r("h2",{attrs:{id:"测试支持"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试支持"}},[e._v("#")]),e._v(" 测试支持")]),e._v(" "),r("ul",[r("li",[e._v("如果使用 Vite，我们推荐使用 "),r("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress"),r("OutboundLink")],1),e._v(" 进行单元测试和 e2e 测试。Vue 单文件的单元测试可以使用 "),r("a",{attrs:{href:"https://www.cypress.io/blog/2021/04/06/introducing-the-cypress-component-test-runner/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress Component Test Runner"),r("OutboundLink")],1),e._v(" 来完成。")]),e._v(" "),r("li",[e._v("Vue CLI 提供 "),r("a",{attrs:{href:"https://jestjs.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jest"),r("OutboundLink")],1),e._v(" 和 "),r("a",{attrs:{href:"https://mochajs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mocha"),r("OutboundLink")],1),e._v(" 集成。")]),e._v(" "),r("li",[e._v("如果你要手动配置 Jest 来和 Vue 单文件一起使用，请查看 "),r("a",{attrs:{href:"https://github.com/vuejs/vue-jest",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-jest"),r("OutboundLink")],1),e._v("，这是官方为 Vue 单文件提供的 Jest 转换工具。")])]),e._v(" "),r("h2",{attrs:{id:"自定义块集成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自定义块集成"}},[e._v("#")]),e._v(" 自定义块集成")]),e._v(" "),r("p",[e._v("自定义块 (custom block) 会被编译进同一个 Vue 文件，产生不同请求查询参数。这取决于底层构建工具如何处理这些导入请求。")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("如果使用 Vite，应该使用一个自定义的 Vite 插件来把匹配的自定义块转为可执行的 JavaScript。["),r("a",{attrs:{href:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-transforming-custom-blocks",target:"_blank",rel:"noopener noreferrer"}},[e._v("例子"),r("OutboundLink")],1),e._v("]")])]),e._v(" "),r("li",[r("p",[e._v("如果使用 Vue CLI 或者普通的 webpack 配置，应该配置一个 webpack loader 来转换匹配到的自定义块。["),r("a",{attrs:{href:"https://vue-loader.vuejs.org/guide/custom-blocks.html#custom-blocks",target:"_blank",rel:"noopener noreferrer"}},[e._v("例子"),r("OutboundLink")],1),e._v("]")])])]),e._v(" "),r("h2",{attrs:{id:"底层工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#底层工具"}},[e._v("#")]),e._v(" 底层工具")]),e._v(" "),r("h3",{attrs:{id:"vue-compiler-sfc"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-compiler-sfc"}},[e._v("#")]),e._v(" "),r("code",[e._v("@vue/compiler-sfc")])]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-next/tree/master/packages/compiler-sfc",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("这个包是 Vue 核心仓库的一部分，始终和当前 "),r("code",[e._v("vue")]),e._v(" 包保持相同的版本。通常情况下，它将被列为项目中 "),r("code",[e._v("vue")]),e._v(" 的同级依赖。为了确保不出问题，应该始终和 "),r("code",[e._v("vue")]),e._v(" 的版本保持同步：也就是说当你升级 "),r("code",[e._v("vue")]),e._v(" 版本时候，应该同时升级 "),r("code",[e._v("@vue/compiler-sfc")]),e._v(" 来保持一致。")]),e._v(" "),r("p",[e._v("这个包本身提供了处理 Vue 单文件的底层工具，只对库作者需要对单文件进行支持时候有意义。")]),e._v(" "),r("h3",{attrs:{id:"vitejs-plugin-vue"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vitejs-plugin-vue"}},[e._v("#")]),e._v(" "),r("code",[e._v("@vitejs/plugin-vue")])]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("官方插件可以在 Vite 中提供对 Vue 单文件提供支持。")]),e._v(" "),r("h3",{attrs:{id:"vue-loader"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-loader"}},[e._v("#")]),e._v(" "),r("code",[e._v("vue-loader")])]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("在 webpack 中提供官方 loader 来支持 Vue 单文件。如果你正在使用 Vue CLI 可以参阅 "),r("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/webpack.html#%E4%BF%AE%E6%94%B9-loader-%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"}},[e._v("在 Vue CLI 中修改 "),r("code",[e._v("vue-loader")]),e._v(" 选项"),r("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);